{"ast":null,"code":"var _jsxFileName = \"/Users/reyvipo/Documents/GitHub/titilab/frontend/src/pages/Checkout.js\",\n  _s = $RefreshSig$();\n// src/pages/Checkout.js\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Typography, Grid, TextField, Button, Card, CardContent, Divider, MenuItem, Stepper, Step, StepLabel, Radio, RadioGroup, FormControlLabel, Box, IconButton, Tooltip, Snackbar, Alert } from \"@mui/material\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport { apiPost } from \"../utils/api\";\nimport departamentos from \"../data/ubigeo_peru_2016_departamentos.json\";\nimport provincias from \"../data/ubigeo_peru_2016_provincias.json\";\nimport distritos from \"../data/ubigeo_peru_2016_distritos.json\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pasos = [\"Carrito\", \"Datos\", \"Pago\", \"ConfirmaciÃ³n\"];\nfunction Checkout() {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [activeStep, setActiveStep] = useState(1); // 1: Datos (asumiendo carrito ya existe)\n  const [departamento, setDepartamento] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [distrito, setDistrito] = useState(\"\");\n  const [courier, setCourier] = useState(\"Olva\");\n  const [tipoComprobante, setTipoComprobante] = useState(\"boleta\");\n  const [metodoPago, setMetodoPago] = useState(\"transferencia\");\n  const [formData, setFormData] = useState({\n    nombre: \"\",\n    email: \"\",\n    direccion: \"\",\n    telefono: \"\",\n    dni: \"\",\n    ruc: \"\",\n    empresa: \"\"\n  });\n  const [orderId, setOrderId] = useState(\"\");\n  const [trackingCode, setTrackingCode] = useState(\"\");\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: \"\"\n  });\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n    setCart(savedCart);\n    if (savedCart.length === 0) setActiveStep(0); // Carrito\n  }, []);\n  const getSubtotal = () => cart.reduce((acc, item) => acc + Number(item.price || 0) * Number(item.quantity || 0), 0);\n  const getEnvio = () => courier === \"Olva\" ? 15 : 20;\n  const getTotalNumber = () => getSubtotal() + getEnvio();\n  const getTotal = () => getTotalNumber().toFixed(2);\n  const handleChange = e => setFormData(s => ({\n    ...s,\n    [e.target.name]: e.target.value\n  }));\n  const validarDNI = dni => /^\\d{8}$/.test(String(dni || \"\").trim());\n  const validarRUC = ruc => {\n    const s = String(ruc || \"\").trim();\n    return /^\\d{11}$/.test(s) && [\"10\", \"15\", \"17\", \"20\"].includes(s.slice(0, 2));\n  };\n  const copyToClipboard = async text => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setSnackbar({\n        open: true,\n        message: `Copiado: ${text}`\n      });\n    } catch {\n      // Fallback\n      const ta = document.createElement(\"textarea\");\n      ta.value = text;\n      document.body.appendChild(ta);\n      ta.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(ta);\n      setSnackbar({\n        open: true,\n        message: `Copiado: ${text}`\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    var _departamentos$find, _provincias$find, _distritos$find;\n    e.preventDefault();\n    if (submitting) return;\n    if (!formData.nombre || !formData.email || !formData.direccion || !formData.telefono) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (!departamento || !provincia || !distrito) {\n      alert(\"Selecciona departamento, provincia y distrito.\");\n      return;\n    }\n    if (tipoComprobante === \"boleta\" && !validarDNI(formData.dni)) {\n      alert(\"DNI invÃ¡lido\");\n      return;\n    }\n    if (tipoComprobante === \"factura\" && (!validarRUC(formData.ruc) || !formData.empresa)) {\n      alert(\"RUC o RazÃ³n social invÃ¡lidos\");\n      return;\n    }\n\n    // Obtener nombres reales de ubicaciÃ³n\n    const departamentoName = ((_departamentos$find = departamentos.find(dep => dep.id === departamento)) === null || _departamentos$find === void 0 ? void 0 : _departamentos$find.name) || \"\";\n    const provinciaName = ((_provincias$find = provincias.find(prov => prov.id === provincia)) === null || _provincias$find === void 0 ? void 0 : _provincias$find.name) || \"\";\n    const distritoName = ((_distritos$find = distritos.find(dist => dist.id === distrito)) === null || _distritos$find === void 0 ? void 0 : _distritos$find.name) || \"\";\n\n    // Aseguramos que los items tengan _id (compatibilidad backend para stock)\n    const cartToSend = (cart || []).map(it => {\n      var _it$_id;\n      return {\n        ...it,\n        _id: (_it$_id = it._id) !== null && _it$_id !== void 0 ? _it$_id : it.id\n      };\n    });\n    setSubmitting(true);\n    try {\n      const data = await apiPost(\"/checkout\", {\n        ...formData,\n        tipoComprobante,\n        departamento: departamentoName,\n        provincia: provinciaName,\n        distrito: distritoName,\n        courier,\n        metodoPago,\n        cart: cartToSend,\n        // enviamos arreglo (backend lo soporta)\n        total: Number(getTotalNumber()),\n        status: \"pendiente\"\n      }, {\n        withAuth: false\n      });\n      setOrderId(data.orderId || \"N/A\");\n      setTrackingCode(data.tracking || \"En preparaciÃ³n\");\n      localStorage.removeItem(\"cart\");\n      setCart([]);\n      setActiveStep(3); // ConfirmaciÃ³n\n    } catch (error) {\n      console.error(\"Error enviando pedido:\", error);\n      alert((error === null || error === void 0 ? void 0 : error.message) || \"âŒ Error de conexiÃ³n con el servidor.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const provinciasFiltradas = provincias.filter(prov => prov.department_id === departamento);\n  const distritosFiltrados = distritos.filter(dist => dist.province_id === provincia);\n  const NotaEnvio = () => /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    sx: {\n      mt: 2,\n      fontStyle: \"italic\",\n      textAlign: \"center\"\n    },\n    children: [\"\\uD83D\\uDCCC Enviar el comprobante de pago al n\\xFAmero \", /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"985979119\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 50\n    }, this), \" una vez hecho el pago.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n  const DatosBCP = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"\\uD83D\\uDCB3 Cuenta bancaria BCP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [\"Cuenta BCP (Soles):\", /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Copiar n\\xFAmero\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => copyToClipboard(\"19295443057026\"),\n          children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      sx: {\n        mb: 2\n      },\n      children: \"19295443057026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [\"Cuenta Interbancaria (CCI):\", /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Copiar n\\xFAmero\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => copyToClipboard(\"00219219544305702634\"),\n          children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: \"00219219544305702634\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  if (cart.length === 0 && activeStep < 3) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4,\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"\\uD83D\\uDED2 No hay productos en tu carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      alternativeLabel: true,\n      children: pasos.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), activeStep === 3 ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      sx: {\n        mt: 4,\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: [\"C\\xF3digo de pedido: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: orderId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mt: 2\n          },\n          children: [\"Hemos enviado un comprobante y detalles de tu compra al correo: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: formData.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mt: 2\n          },\n          children: [\"C\\xF3digo de seguimiento: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: trackingCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            mt: 4,\n            p: 2,\n            maxWidth: 500,\n            mx: \"auto\"\n          },\n          children: [metodoPago === \"transferencia\" && /*#__PURE__*/_jsxDEV(DatosBCP, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 50\n          }, this), metodoPago === \"yape\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Yape\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/yape.jpeg\",\n                alt: \"Yape QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), metodoPago === \"plin\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Plin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/plin.jpeg\",\n                alt: \"Plin QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          sx: {\n            mt: 4\n          },\n          onClick: () => window.location.href = \"/\",\n          children: \"Volver a la tienda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Datos de env\\xEDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Nombre completo\",\n            name: \"nombre\",\n            value: formData.nombre,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Correo electr\\xF3nico\",\n            type: \"email\",\n            name: \"email\",\n            value: formData.email,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Direcci\\xF3n\",\n            name: \"direccion\",\n            value: formData.direccion,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Tel\\xE9fono\",\n            name: \"telefono\",\n            value: formData.telefono,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              mt: 2\n            },\n            children: \"Tipo de Comprobante\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n            value: tipoComprobante,\n            onChange: e => setTipoComprobante(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"boleta\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 59\n              }, this),\n              label: \"Boleta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"factura\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 60\n              }, this),\n              label: \"Factura\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), tipoComprobante === \"boleta\" && /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"DNI\",\n            name: \"dni\",\n            value: formData.dni,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this), tipoComprobante === \"factura\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              label: \"RUC\",\n              name: \"ruc\",\n              value: formData.ruc,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Raz\\xF3n Social\",\n              name: \"empresa\",\n              value: formData.empresa,\n              onChange: handleChange,\n              fullWidth: true,\n              margin: \"normal\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Departamento\",\n            value: departamento,\n            onChange: e => {\n              setDepartamento(e.target.value);\n              setProvincia(\"\");\n              setDistrito(\"\");\n            },\n            fullWidth: true,\n            margin: \"normal\",\n            required: true,\n            children: departamentos.map(dep => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: dep.id,\n              children: dep.name\n            }, dep.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 43\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Provincia\",\n            value: provincia,\n            onChange: e => {\n              setProvincia(e.target.value);\n              setDistrito(\"\");\n            },\n            fullWidth: true,\n            margin: \"normal\",\n            required: true,\n            disabled: !departamento,\n            children: provinciasFiltradas.map(prov => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: prov.id,\n              children: prov.name\n            }, prov.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 50\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Distrito\",\n            value: distrito,\n            onChange: e => setDistrito(e.target.value),\n            fullWidth: true,\n            margin: \"normal\",\n            required: true,\n            disabled: !provincia,\n            children: distritosFiltrados.map(dist => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: dist.id,\n              children: dist.name\n            }, dist.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 49\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              mt: 2\n            },\n            children: \"M\\xE9todo de env\\xEDo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n            value: courier,\n            onChange: e => setCourier(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"Olva\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 57\n              }, this),\n              label: \"Olva Courier - S/15.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"Shalom\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 59\n              }, this),\n              label: \"Shalom - S/20.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            sx: {\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                children: \"M\\xE9todo de pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n                value: metodoPago,\n                onChange: e => setMetodoPago(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"transferencia\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 70\n                  }, this),\n                  label: \"Transferencia bancaria\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"yape\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 61\n                  }, this),\n                  label: \"Yape\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"plin\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 61\n                  }, this),\n                  label: \"Plin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [metodoPago === \"transferencia\" && /*#__PURE__*/_jsxDEV(DatosBCP, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 54\n              }, this), metodoPago === \"yape\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    textAlign: \"center\",\n                    mt: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/images/yape.jpeg\",\n                    alt: \"Yape QR\",\n                    style: {\n                      width: \"150px\",\n                      borderRadius: \"8px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), metodoPago === \"plin\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    textAlign: \"center\",\n                    mt: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/images/plin.jpeg\",\n                    alt: \"Plin QR\",\n                    style: {\n                      width: \"150px\",\n                      borderRadius: \"8px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            fullWidth: true,\n            sx: {\n              mt: 2\n            },\n            disabled: submitting,\n            children: submitting ? \"Enviando pedido...\" : \"Realizar Pedido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        sx: {\n          position: \"sticky\",\n          top: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Resumen de compra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [cart.map(item => {\n              var _item$_id;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: \"10px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: [item.name, \" x \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: [\"S/ \", (Number(item.price || 0) * Number(item.quantity || 0)).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                  sx: {\n                    my: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, (_item$_id = item._id) !== null && _item$_id !== void 0 ? _item$_id : item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [\"Subtotal: S/ \", getSubtotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [\"Env\\xEDo: S/ \", getEnvio().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              align: \"right\",\n              children: [\"Total: S/ \", getTotal()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 2000,\n      onClose: () => setSnackbar({\n        ...snackbar,\n        open: false\n      }),\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"IxdOx2S3rEu9ctzN0WNTtmYDKo8=\");\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Grid","TextField","Button","Card","CardContent","Divider","MenuItem","Stepper","Step","StepLabel","Radio","RadioGroup","FormControlLabel","Box","IconButton","Tooltip","Snackbar","Alert","ContentCopyIcon","apiPost","departamentos","provincias","distritos","jsxDEV","_jsxDEV","Fragment","_Fragment","pasos","Checkout","_s","cart","setCart","activeStep","setActiveStep","departamento","setDepartamento","provincia","setProvincia","distrito","setDistrito","courier","setCourier","tipoComprobante","setTipoComprobante","metodoPago","setMetodoPago","formData","setFormData","nombre","email","direccion","telefono","dni","ruc","empresa","orderId","setOrderId","trackingCode","setTrackingCode","snackbar","setSnackbar","open","message","submitting","setSubmitting","savedCart","JSON","parse","localStorage","getItem","length","getSubtotal","reduce","acc","item","Number","price","quantity","getEnvio","getTotalNumber","getTotal","toFixed","handleChange","e","s","target","name","value","validarDNI","test","String","trim","validarRUC","includes","slice","copyToClipboard","text","navigator","clipboard","writeText","ta","document","createElement","body","appendChild","select","execCommand","removeChild","handleSubmit","_departamentos$find","_provincias$find","_distritos$find","preventDefault","alert","departamentoName","find","dep","id","provinciaName","prov","distritoName","dist","cartToSend","map","it","_it$_id","_id","data","total","status","withAuth","tracking","removeItem","error","console","provinciasFiltradas","filter","department_id","distritosFiltrados","province_id","NotaEnvio","variant","color","sx","mt","fontStyle","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","DatosBCP","gutterBottom","fontWeight","title","size","onClick","fontSize","mb","alternativeLabel","label","container","spacing","xs","p","maxWidth","mx","src","alt","style","width","borderRadius","window","location","href","md","onSubmit","onChange","fullWidth","margin","required","type","control","disabled","position","top","_item$_id","marginBottom","my","align","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["/Users/reyvipo/Documents/GitHub/titilab/frontend/src/pages/Checkout.js"],"sourcesContent":["// src/pages/Checkout.js\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Container, Typography, Grid, TextField, Button,\n  Card, CardContent, Divider, MenuItem, Stepper, Step, StepLabel,\n  Radio, RadioGroup, FormControlLabel, Box, IconButton, Tooltip, Snackbar, Alert\n} from \"@mui/material\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\n\nimport { apiPost } from \"../utils/api\";\n\nimport departamentos from \"../data/ubigeo_peru_2016_departamentos.json\";\nimport provincias from \"../data/ubigeo_peru_2016_provincias.json\";\nimport distritos from \"../data/ubigeo_peru_2016_distritos.json\";\n\nconst pasos = [\"Carrito\", \"Datos\", \"Pago\", \"ConfirmaciÃ³n\"];\n\nfunction Checkout() {\n  const [cart, setCart] = useState([]);\n  const [activeStep, setActiveStep] = useState(1); // 1: Datos (asumiendo carrito ya existe)\n  const [departamento, setDepartamento] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [distrito, setDistrito] = useState(\"\");\n  const [courier, setCourier] = useState(\"Olva\");\n  const [tipoComprobante, setTipoComprobante] = useState(\"boleta\");\n  const [metodoPago, setMetodoPago] = useState(\"transferencia\");\n  const [formData, setFormData] = useState({\n    nombre: \"\", email: \"\", direccion: \"\", telefono: \"\", dni: \"\", ruc: \"\", empresa: \"\"\n  });\n\n  const [orderId, setOrderId] = useState(\"\");\n  const [trackingCode, setTrackingCode] = useState(\"\");\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\" });\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\n    setCart(savedCart);\n    if (savedCart.length === 0) setActiveStep(0); // Carrito\n  }, []);\n\n  const getSubtotal = () => cart.reduce((acc, item) => acc + Number(item.price || 0) * Number(item.quantity || 0), 0);\n  const getEnvio = () => (courier === \"Olva\" ? 15 : 20);\n  const getTotalNumber = () => getSubtotal() + getEnvio();\n  const getTotal = () => getTotalNumber().toFixed(2);\n\n  const handleChange = (e) => setFormData((s) => ({ ...s, [e.target.name]: e.target.value }));\n\n  const validarDNI = (dni) => /^\\d{8}$/.test(String(dni || \"\").trim());\n  const validarRUC = (ruc) => {\n    const s = String(ruc || \"\").trim();\n    return /^\\d{11}$/.test(s) && [\"10\", \"15\", \"17\", \"20\"].includes(s.slice(0, 2));\n  };\n\n  const copyToClipboard = async (text) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setSnackbar({ open: true, message: `Copiado: ${text}` });\n    } catch {\n      // Fallback\n      const ta = document.createElement(\"textarea\");\n      ta.value = text;\n      document.body.appendChild(ta);\n      ta.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(ta);\n      setSnackbar({ open: true, message: `Copiado: ${text}` });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (submitting) return;\n\n    if (!formData.nombre || !formData.email || !formData.direccion || !formData.telefono) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (!departamento || !provincia || !distrito) {\n      alert(\"Selecciona departamento, provincia y distrito.\");\n      return;\n    }\n    if (tipoComprobante === \"boleta\" && !validarDNI(formData.dni)) {\n      alert(\"DNI invÃ¡lido\");\n      return;\n    }\n    if (tipoComprobante === \"factura\" && (!validarRUC(formData.ruc) || !formData.empresa)) {\n      alert(\"RUC o RazÃ³n social invÃ¡lidos\");\n      return;\n    }\n\n    // Obtener nombres reales de ubicaciÃ³n\n    const departamentoName = departamentos.find(dep => dep.id === departamento)?.name || \"\";\n    const provinciaName = provincias.find(prov => prov.id === provincia)?.name || \"\";\n    const distritoName = distritos.find(dist => dist.id === distrito)?.name || \"\";\n\n    // Aseguramos que los items tengan _id (compatibilidad backend para stock)\n    const cartToSend = (cart || []).map(it => ({\n      ...it,\n      _id: it._id ?? it.id,\n    }));\n\n    setSubmitting(true);\n    try {\n      const data = await apiPost(\"/checkout\", {\n        ...formData,\n        tipoComprobante,\n        departamento: departamentoName,\n        provincia: provinciaName,\n        distrito: distritoName,\n        courier,\n        metodoPago,\n        cart: cartToSend,              // enviamos arreglo (backend lo soporta)\n        total: Number(getTotalNumber()),\n        status: \"pendiente\",\n      }, { withAuth: false });\n\n      setOrderId(data.orderId || \"N/A\");\n      setTrackingCode(data.tracking || \"En preparaciÃ³n\");\n      localStorage.removeItem(\"cart\");\n      setCart([]);\n      setActiveStep(3); // ConfirmaciÃ³n\n    } catch (error) {\n      console.error(\"Error enviando pedido:\", error);\n      alert(error?.message || \"âŒ Error de conexiÃ³n con el servidor.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const provinciasFiltradas = provincias.filter((prov) => prov.department_id === departamento);\n  const distritosFiltrados = distritos.filter((dist) => dist.province_id === provincia);\n\n  const NotaEnvio = () => (\n    <Typography\n      variant=\"body2\"\n      color=\"text.secondary\"\n      sx={{ mt: 2, fontStyle: \"italic\", textAlign: \"center\" }}\n    >\n      ðŸ“Œ Enviar el comprobante de pago al nÃºmero <b>985979119</b> una vez hecho el pago.\n    </Typography>\n  );\n\n  const DatosBCP = () => (\n    <>\n      <Typography variant=\"h6\" gutterBottom>ðŸ’³ Cuenta bancaria BCP</Typography>\n      <Typography variant=\"body1\" sx={{ fontWeight: \"bold\" }}>\n        Cuenta BCP (Soles):\n        <Tooltip title=\"Copiar nÃºmero\">\n          <IconButton size=\"small\" onClick={() => copyToClipboard(\"19295443057026\")}>\n            <ContentCopyIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Tooltip>\n      </Typography>\n      <Typography variant=\"body2\" sx={{ mb: 2 }}>19295443057026</Typography>\n\n      <Typography variant=\"body1\" sx={{ fontWeight: \"bold\" }}>\n        Cuenta Interbancaria (CCI):\n        <Tooltip title=\"Copiar nÃºmero\">\n          <IconButton size=\"small\" onClick={() => copyToClipboard(\"00219219544305702634\")}>\n            <ContentCopyIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Tooltip>\n      </Typography>\n      <Typography variant=\"body2\">00219219544305702634</Typography>\n      <NotaEnvio />\n    </>\n  );\n\n  if (cart.length === 0 && activeStep < 3) {\n    return (\n      <Container sx={{ mt: 4, textAlign: \"center\" }}>\n        <Typography variant=\"h5\">ðŸ›’ No hay productos en tu carrito</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container sx={{ mt: 4 }}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {pasos.map((label) => (\n          <Step key={label}><StepLabel>{label}</StepLabel></Step>\n        ))}\n      </Stepper>\n\n      {/* ConfirmaciÃ³n */}\n      {activeStep === 3 ? (\n        <Grid container spacing={4} sx={{ mt: 4, textAlign: \"center\" }}>\n          <Grid item xs={12}>\n            <Typography variant=\"h4\" gutterBottom>\n              CÃ³digo de pedido: <b>{orderId}</b>\n            </Typography>\n            <Typography variant=\"body1\" sx={{ mt: 2 }}>\n              Hemos enviado un comprobante y detalles de tu compra al correo: <b>{formData.email}</b>\n            </Typography>\n            <Typography variant=\"body1\" sx={{ mt: 2 }}>\n              CÃ³digo de seguimiento: <b>{trackingCode}</b>\n            </Typography>\n\n            <Card sx={{ mt: 4, p: 2, maxWidth: 500, mx: \"auto\" }}>\n              {metodoPago === \"transferencia\" && <DatosBCP />}\n              {metodoPago === \"yape\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Yape</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/yape.jpeg\" alt=\"Yape QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n              {metodoPago === \"plin\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Plin</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/plin.jpeg\" alt=\"Plin QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n            </Card>\n\n            <Button variant=\"contained\" sx={{ mt: 4 }} onClick={() => window.location.href = \"/\"}>\n              Volver a la tienda\n            </Button>\n          </Grid>\n        </Grid>\n      ) : (\n        <Grid container spacing={4} sx={{ mt: 2 }}>\n          {/* Formulario */}\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h6\" gutterBottom>Datos de envÃ­o</Typography>\n            <form onSubmit={handleSubmit}>\n              <TextField label=\"Nombre completo\" name=\"nombre\" value={formData.nombre} onChange={handleChange} fullWidth margin=\"normal\" required />\n              <TextField label=\"Correo electrÃ³nico\" type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} fullWidth margin=\"normal\" required />\n              <TextField label=\"DirecciÃ³n\" name=\"direccion\" value={formData.direccion} onChange={handleChange} fullWidth margin=\"normal\" required />\n              <TextField label=\"TelÃ©fono\" name=\"telefono\" value={formData.telefono} onChange={handleChange} fullWidth margin=\"normal\" required />\n\n              <Typography variant=\"subtitle1\" sx={{ mt: 2 }}>Tipo de Comprobante</Typography>\n              <RadioGroup value={tipoComprobante} onChange={(e) => setTipoComprobante(e.target.value)}>\n                <FormControlLabel value=\"boleta\" control={<Radio />} label=\"Boleta\" />\n                <FormControlLabel value=\"factura\" control={<Radio />} label=\"Factura\" />\n              </RadioGroup>\n\n              {tipoComprobante === \"boleta\" && (\n                <TextField label=\"DNI\" name=\"dni\" value={formData.dni} onChange={handleChange} fullWidth margin=\"normal\" required />\n              )}\n              {tipoComprobante === \"factura\" && (\n                <>\n                  <TextField label=\"RUC\" name=\"ruc\" value={formData.ruc} onChange={handleChange} fullWidth margin=\"normal\" required />\n                  <TextField label=\"RazÃ³n Social\" name=\"empresa\" value={formData.empresa} onChange={handleChange} fullWidth margin=\"normal\" required />\n                </>\n              )}\n\n              <TextField select label=\"Departamento\" value={departamento} onChange={(e) => { setDepartamento(e.target.value); setProvincia(\"\"); setDistrito(\"\"); }} fullWidth margin=\"normal\" required>\n                {departamentos.map(dep => <MenuItem key={dep.id} value={dep.id}>{dep.name}</MenuItem>)}\n              </TextField>\n              <TextField select label=\"Provincia\" value={provincia} onChange={(e) => { setProvincia(e.target.value); setDistrito(\"\"); }} fullWidth margin=\"normal\" required disabled={!departamento}>\n                {provinciasFiltradas.map(prov => <MenuItem key={prov.id} value={prov.id}>{prov.name}</MenuItem>)}\n              </TextField>\n              <TextField select label=\"Distrito\" value={distrito} onChange={(e) => setDistrito(e.target.value)} fullWidth margin=\"normal\" required disabled={!provincia}>\n                {distritosFiltrados.map(dist => <MenuItem key={dist.id} value={dist.id}>{dist.name}</MenuItem>)}\n              </TextField>\n\n              <Typography variant=\"subtitle1\" sx={{ mt: 2 }}>MÃ©todo de envÃ­o</Typography>\n              <RadioGroup value={courier} onChange={(e) => setCourier(e.target.value)}>\n                <FormControlLabel value=\"Olva\" control={<Radio />} label=\"Olva Courier - S/15.00\" />\n                <FormControlLabel value=\"Shalom\" control={<Radio />} label=\"Shalom - S/20.00\" />\n              </RadioGroup>\n\n              {/* MÃ©todos de pago y datos a la derecha */}\n              <Grid container spacing={2} sx={{ mt: 2 }}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"subtitle1\">MÃ©todo de pago</Typography>\n                  <RadioGroup value={metodoPago} onChange={(e) => setMetodoPago(e.target.value)}>\n                    <FormControlLabel value=\"transferencia\" control={<Radio />} label=\"Transferencia bancaria\" />\n                    <FormControlLabel value=\"yape\" control={<Radio />} label=\"Yape\" />\n                    <FormControlLabel value=\"plin\" control={<Radio />} label=\"Plin\" />\n                  </RadioGroup>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  {metodoPago === \"transferencia\" && <DatosBCP />}\n                  {metodoPago === \"yape\" && (\n                    <>\n                      <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                        <img src=\"/images/yape.jpeg\" alt=\"Yape QR\" style={{ width: \"150px\", borderRadius: \"8px\" }} />\n                      </Box>\n                      <NotaEnvio />\n                    </>\n                  )}\n                  {metodoPago === \"plin\" && (\n                    <>\n                      <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                        <img src=\"/images/plin.jpeg\" alt=\"Plin QR\" style={{ width: \"150px\", borderRadius: \"8px\" }} />\n                      </Box>\n                      <NotaEnvio />\n                    </>\n                  )}\n                </Grid>\n              </Grid>\n\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth\n                sx={{ mt: 2 }}\n                disabled={submitting}\n              >\n                {submitting ? \"Enviando pedido...\" : \"Realizar Pedido\"}\n              </Button>\n            </form>\n          </Grid>\n\n          {/* Resumen */}\n          <Grid item xs={12} md={6} sx={{ position: \"sticky\", top: \"20px\" }}>\n            <Typography variant=\"h6\" gutterBottom>Resumen de compra</Typography>\n            <Card>\n              <CardContent>\n                {cart.map(item => (\n                  <div key={item._id ?? item.id} style={{ marginBottom: \"10px\" }}>\n                    <Typography variant=\"body1\">{item.name} x {item.quantity}</Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      S/ {(Number(item.price || 0) * Number(item.quantity || 0)).toFixed(2)}\n                    </Typography>\n                    <Divider sx={{ my: 1 }} />\n                  </div>\n                ))}\n                <Typography variant=\"body1\">Subtotal: S/ {getSubtotal().toFixed(2)}</Typography>\n                <Typography variant=\"body1\">EnvÃ­o: S/ {getEnvio().toFixed(2)}</Typography>\n                <Typography variant=\"h6\" align=\"right\">Total: S/ {getTotal()}</Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      )}\n\n      {/* Snackbar */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={2000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      >\n        <Alert severity=\"success\" sx={{ width: \"100%\" }}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default Checkout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}