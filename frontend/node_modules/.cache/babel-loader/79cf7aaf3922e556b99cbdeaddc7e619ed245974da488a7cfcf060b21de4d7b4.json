{"ast":null,"code":"var _jsxFileName = \"/Users/reyvipo/Documents/GitHub/titilab/frontend/src/pages/Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Typography, Grid, TextField, Button, Card, CardContent, Divider, MenuItem, Stepper, Step, StepLabel, Radio, RadioGroup, FormControlLabel, Box, IconButton, Tooltip, Snackbar, Alert } from \"@mui/material\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport departamentos from \"../data/ubigeo_peru_2016_departamentos.json\";\nimport provincias from \"../data/ubigeo_peru_2016_provincias.json\";\nimport distritos from \"../data/ubigeo_peru_2016_distritos.json\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pasos = [\"Carrito\", \"Datos\", \"Pago\", \"ConfirmaciÃ³n\"];\nfunction Checkout() {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [activeStep, setActiveStep] = useState(0);\n  const [departamento, setDepartamento] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [distrito, setDistrito] = useState(\"\");\n  const [courier, setCourier] = useState(\"Olva\");\n  const [tipoComprobante, setTipoComprobante] = useState(\"boleta\");\n  const [metodoPago, setMetodoPago] = useState(\"transferencia\");\n  const [formData, setFormData] = useState({\n    nombre: \"\",\n    email: \"\",\n    direccion: \"\",\n    telefono: \"\",\n    dni: \"\",\n    ruc: \"\",\n    empresa: \"\"\n  });\n  const [orderId, setOrderId] = useState(\"\");\n  const [trackingCode, setTrackingCode] = useState(\"\");\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: \"\"\n  });\n  useEffect(() => {\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    setCart(savedCart);\n  }, []);\n  const getSubtotal = () => cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  const getEnvio = () => courier === \"Olva\" ? 15 : 20;\n  const getTotal = () => (getSubtotal() + getEnvio()).toFixed(2);\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const validarDNI = dni => /^\\d{8}$/.test(dni);\n  const validarRUC = ruc => /^\\d{11}$/.test(ruc) && [\"10\", \"15\", \"17\", \"20\"].includes(ruc.substring(0, 2));\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text);\n    setSnackbar({\n      open: true,\n      message: `Copiado: ${text}`\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.nombre || !formData.email || !formData.direccion) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (tipoComprobante === \"boleta\" && !validarDNI(formData.dni)) {\n      alert(\"DNI invÃ¡lido\");\n      return;\n    }\n    if (tipoComprobante === \"factura\" && (!validarRUC(formData.ruc) || !formData.empresa)) {\n      alert(\"RUC o RazÃ³n social invÃ¡lidos\");\n      return;\n    }\n    try {\n      const response = await fetch(\"/api/checkout\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...formData,\n          tipoComprobante,\n          departamento,\n          provincia,\n          distrito,\n          courier,\n          metodoPago,\n          cart,\n          total: getTotal(),\n          status: \"pendiente\"\n        })\n      });\n      const data = await response.json();\n      if (response.ok && data.success) {\n        setOrderId(data.orderId || \"N/A\");\n        setTrackingCode(data.tracking || \"En preparaciÃ³n\");\n        localStorage.removeItem(\"cart\");\n        setCart([]);\n        setActiveStep(3);\n      } else {\n        alert(data.error || \"âŒ Hubo un problema al procesar tu pedido.\");\n      }\n    } catch (error) {\n      console.error(\"Error enviando pedido:\", error);\n      alert(\"âŒ Error de conexiÃ³n con el servidor.\");\n    }\n  };\n  const provinciasFiltradas = provincias.filter(prov => prov.department_id === departamento);\n  const distritosFiltrados = distritos.filter(dist => dist.province_id === provincia);\n  const NotaEnvio = () => /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"text.secondary\",\n    sx: {\n      mt: 2,\n      fontStyle: \"italic\",\n      textAlign: \"center\"\n    },\n    children: [\"\\uD83D\\uDCCC Enviar el comprobante de pago al n\\xFAmero \", /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"985979119\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 50\n    }, this), \" una vez hecho el pago.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n  const DatosBCP = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"\\uD83D\\uDCB3 Cuenta bancaria BCP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [\"Cuenta BCP (Soles):\", /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Copiar n\\xFAmero\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => copyToClipboard(\"19295443057026\"),\n          children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      sx: {\n        mb: 2\n      },\n      children: \"19295443057026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [\"Cuenta Interbancaria (CCI):\", /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Copiar n\\xFAmero\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => copyToClipboard(\"00219219544305702634\"),\n          children: /*#__PURE__*/_jsxDEV(ContentCopyIcon, {\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: \"00219219544305702634\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  if (cart.length === 0 && activeStep < 3) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4,\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"\\uD83D\\uDED2 No hay productos en tu carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      alternativeLabel: true,\n      children: pasos.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 29\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), activeStep === 3 ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      sx: {\n        mt: 4,\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: [\"C\\xF3digo de pedido: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: orderId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mt: 2\n          },\n          children: [\"Hemos enviado un comprobante y detalles de tu compra al correo: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: formData.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mt: 2\n          },\n          children: [\"C\\xF3digo de seguimiento: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: trackingCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            mt: 4,\n            p: 2,\n            maxWidth: 500,\n            mx: \"auto\"\n          },\n          children: [metodoPago === \"transferencia\" && /*#__PURE__*/_jsxDEV(DatosBCP, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 50\n          }, this), metodoPago === \"yape\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Yape\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/yape.jpeg\",\n                alt: \"Yape QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), metodoPago === \"plin\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Plin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/plin.jpeg\",\n                alt: \"Plin QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          sx: {\n            mt: 4\n          },\n          onClick: () => window.location.href = \"/\",\n          children: \"Volver a la tienda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Datos de env\\xEDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        sx: {\n          position: \"sticky\",\n          top: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Resumen de compra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: [item.name, \" x \", item.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"S/ \", (item.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [\"Subtotal: S/ \", getSubtotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [\"Env\\xEDo: S/ \", getEnvio().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              align: \"right\",\n              children: [\"Total: S/ \", getTotal()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            mt: 2,\n            p: 2\n          },\n          children: [metodoPago === \"transferencia\" && /*#__PURE__*/_jsxDEV(DatosBCP, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 50\n          }, this), metodoPago === \"yape\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Yape\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/yape.jpeg\",\n                alt: \"Yape QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), metodoPago === \"plin\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF1 Pago con Plin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: \"center\",\n                mt: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/images/plin.jpeg\",\n                alt: \"Plin QR\",\n                style: {\n                  width: \"250px\",\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NotaEnvio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 2000,\n      onClose: () => setSnackbar({\n        ...snackbar,\n        open: false\n      }),\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"VL0sldIzsUPyVo8uNNI/kbYMoBo=\");\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Grid","TextField","Button","Card","CardContent","Divider","MenuItem","Stepper","Step","StepLabel","Radio","RadioGroup","FormControlLabel","Box","IconButton","Tooltip","Snackbar","Alert","ContentCopyIcon","departamentos","provincias","distritos","jsxDEV","_jsxDEV","Fragment","_Fragment","pasos","Checkout","_s","cart","setCart","activeStep","setActiveStep","departamento","setDepartamento","provincia","setProvincia","distrito","setDistrito","courier","setCourier","tipoComprobante","setTipoComprobante","metodoPago","setMetodoPago","formData","setFormData","nombre","email","direccion","telefono","dni","ruc","empresa","orderId","setOrderId","trackingCode","setTrackingCode","snackbar","setSnackbar","open","message","savedCart","JSON","parse","localStorage","getItem","getSubtotal","reduce","acc","item","price","quantity","getEnvio","getTotal","toFixed","handleChange","e","target","name","value","validarDNI","test","validarRUC","includes","substring","copyToClipboard","text","navigator","clipboard","writeText","handleSubmit","preventDefault","alert","response","fetch","method","headers","body","stringify","total","status","data","json","ok","success","tracking","removeItem","error","console","provinciasFiltradas","filter","prov","department_id","distritosFiltrados","dist","province_id","NotaEnvio","variant","color","sx","mt","fontStyle","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","DatosBCP","gutterBottom","fontWeight","title","size","onClick","fontSize","mb","length","alternativeLabel","map","label","container","spacing","xs","p","maxWidth","mx","src","alt","style","width","borderRadius","window","location","href","md","onSubmit","position","top","marginBottom","my","_id","align","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["/Users/reyvipo/Documents/GitHub/titilab/frontend/src/pages/Checkout.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Container, Typography, Grid, TextField, Button,\n  Card, CardContent, Divider, MenuItem, Stepper, Step, StepLabel,\n  Radio, RadioGroup, FormControlLabel, Box, IconButton, Tooltip, Snackbar, Alert\n} from \"@mui/material\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\n\nimport departamentos from \"../data/ubigeo_peru_2016_departamentos.json\";\nimport provincias from \"../data/ubigeo_peru_2016_provincias.json\";\nimport distritos from \"../data/ubigeo_peru_2016_distritos.json\";\n\nconst pasos = [\"Carrito\", \"Datos\", \"Pago\", \"ConfirmaciÃ³n\"];\n\nfunction Checkout() {\n  const [cart, setCart] = useState([]);\n  const [activeStep, setActiveStep] = useState(0);\n  const [departamento, setDepartamento] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [distrito, setDistrito] = useState(\"\");\n  const [courier, setCourier] = useState(\"Olva\");\n  const [tipoComprobante, setTipoComprobante] = useState(\"boleta\");\n  const [metodoPago, setMetodoPago] = useState(\"transferencia\");\n  const [formData, setFormData] = useState({\n    nombre: \"\", email: \"\", direccion: \"\", telefono: \"\", dni: \"\", ruc: \"\", empresa: \"\"\n  });\n\n  const [orderId, setOrderId] = useState(\"\");\n  const [trackingCode, setTrackingCode] = useState(\"\");\n\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\" });\n\n  useEffect(() => {\n    const savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    setCart(savedCart);\n  }, []);\n\n  const getSubtotal = () =>\n    cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n\n  const getEnvio = () => courier === \"Olva\" ? 15 : 20;\n  const getTotal = () => (getSubtotal() + getEnvio()).toFixed(2);\n\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const validarDNI = (dni) => /^\\d{8}$/.test(dni);\n  const validarRUC = (ruc) => /^\\d{11}$/.test(ruc) && [\"10\", \"15\", \"17\", \"20\"].includes(ruc.substring(0, 2));\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    setSnackbar({ open: true, message: `Copiado: ${text}` });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.nombre || !formData.email || !formData.direccion) {\n      alert(\"Por favor, completa todos los campos obligatorios.\");\n      return;\n    }\n    if (tipoComprobante === \"boleta\" && !validarDNI(formData.dni)) {\n      alert(\"DNI invÃ¡lido\");\n      return;\n    }\n    if (tipoComprobante === \"factura\" && (!validarRUC(formData.ruc) || !formData.empresa)) {\n      alert(\"RUC o RazÃ³n social invÃ¡lidos\");\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/api/checkout\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          ...formData,\n          tipoComprobante,\n          departamento,\n          provincia,\n          distrito,\n          courier,\n          metodoPago,\n          cart,\n          total: getTotal(),\n          status: \"pendiente\"\n        })\n      });\n\n      const data = await response.json();\n      if (response.ok && data.success) {\n        setOrderId(data.orderId || \"N/A\");\n        setTrackingCode(data.tracking || \"En preparaciÃ³n\");\n        localStorage.removeItem(\"cart\");\n        setCart([]);\n        setActiveStep(3);\n      } else {\n        alert(data.error || \"âŒ Hubo un problema al procesar tu pedido.\");\n      }\n    } catch (error) {\n      console.error(\"Error enviando pedido:\", error);\n      alert(\"âŒ Error de conexiÃ³n con el servidor.\");\n    }\n  };\n\n  const provinciasFiltradas = provincias.filter((prov) => prov.department_id === departamento);\n  const distritosFiltrados = distritos.filter((dist) => dist.province_id === provincia);\n\n  const NotaEnvio = () => (\n    <Typography\n      variant=\"body2\"\n      color=\"text.secondary\"\n      sx={{ mt: 2, fontStyle: \"italic\", textAlign: \"center\" }}\n    >\n      ðŸ“Œ Enviar el comprobante de pago al nÃºmero <b>985979119</b> una vez hecho el pago.\n    </Typography>\n  );\n\n  const DatosBCP = () => (\n    <>\n      <Typography variant=\"h6\" gutterBottom>ðŸ’³ Cuenta bancaria BCP</Typography>\n      <Typography variant=\"body1\" sx={{ fontWeight: \"bold\" }}>\n        Cuenta BCP (Soles):\n        <Tooltip title=\"Copiar nÃºmero\">\n          <IconButton size=\"small\" onClick={() => copyToClipboard(\"19295443057026\")}>\n            <ContentCopyIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Tooltip>\n      </Typography>\n      <Typography variant=\"body2\" sx={{ mb: 2 }}>19295443057026</Typography>\n\n      <Typography variant=\"body1\" sx={{ fontWeight: \"bold\" }}>\n        Cuenta Interbancaria (CCI):\n        <Tooltip title=\"Copiar nÃºmero\">\n          <IconButton size=\"small\" onClick={() => copyToClipboard(\"00219219544305702634\")}>\n            <ContentCopyIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Tooltip>\n      </Typography>\n      <Typography variant=\"body2\">00219219544305702634</Typography>\n      <NotaEnvio />\n    </>\n  );\n\n  if (cart.length === 0 && activeStep < 3) {\n    return (\n      <Container sx={{ mt: 4, textAlign: \"center\" }}>\n        <Typography variant=\"h5\">ðŸ›’ No hay productos en tu carrito</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container sx={{ mt: 4 }}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {pasos.map((label) => (\n          <Step key={label}><StepLabel>{label}</StepLabel></Step>\n        ))}\n      </Stepper>\n\n      {/* ConfirmaciÃ³n */}\n      {activeStep === 3 ? (\n        <Grid container spacing={4} sx={{ mt: 4, textAlign: \"center\" }}>\n          <Grid item xs={12}>\n            <Typography variant=\"h4\" gutterBottom>\n              CÃ³digo de pedido: <b>{orderId}</b>\n            </Typography>\n            <Typography variant=\"body1\" sx={{ mt: 2 }}>\n              Hemos enviado un comprobante y detalles de tu compra al correo: <b>{formData.email}</b>\n            </Typography>\n            <Typography variant=\"body1\" sx={{ mt: 2 }}>\n              CÃ³digo de seguimiento: <b>{trackingCode}</b>\n            </Typography>\n\n            <Card sx={{ mt: 4, p: 2, maxWidth: 500, mx: \"auto\" }}>\n              {metodoPago === \"transferencia\" && <DatosBCP />}\n              {metodoPago === \"yape\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Yape</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/yape.jpeg\" alt=\"Yape QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n              {metodoPago === \"plin\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Plin</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/plin.jpeg\" alt=\"Plin QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n            </Card>\n\n            <Button variant=\"contained\" sx={{ mt: 4 }} onClick={() => window.location.href = \"/\"}>\n              Volver a la tienda\n            </Button>\n          </Grid>\n        </Grid>\n      ) : (\n        <Grid container spacing={4} sx={{ mt: 2 }}>\n          {/* Formulario */}\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h6\" gutterBottom>Datos de envÃ­o</Typography>\n            <form onSubmit={handleSubmit}>\n              {/* Campos de formulario aquÃ­ */}\n              {/* Igual que en tu versiÃ³n anterior */}\n            </form>\n          </Grid>\n\n          {/* Resumen + Info pago */}\n          <Grid item xs={12} md={6} sx={{ position: \"sticky\", top: \"20px\" }}>\n            <Typography variant=\"h6\" gutterBottom>Resumen de compra</Typography>\n            <Card>\n              <CardContent>\n                {cart.map(item => (\n                  <div key={item._id} style={{ marginBottom: \"10px\" }}>\n                    <Typography variant=\"body1\">{item.name} x {item.quantity}</Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      S/ {(item.price * item.quantity).toFixed(2)}\n                    </Typography>\n                    <Divider sx={{ my: 1 }} />\n                  </div>\n                ))}\n                <Typography variant=\"body1\">Subtotal: S/ {getSubtotal().toFixed(2)}</Typography>\n                <Typography variant=\"body1\">EnvÃ­o: S/ {getEnvio().toFixed(2)}</Typography>\n                <Typography variant=\"h6\" align=\"right\">Total: S/ {getTotal()}</Typography>\n              </CardContent>\n            </Card>\n\n            <Card sx={{ mt: 2, p: 2 }}>\n              {metodoPago === \"transferencia\" && <DatosBCP />}\n              {metodoPago === \"yape\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Yape</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/yape.jpeg\" alt=\"Yape QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n              {metodoPago === \"plin\" && (\n                <>\n                  <Typography variant=\"h6\" gutterBottom>ðŸ“± Pago con Plin</Typography>\n                  <Box sx={{ textAlign: \"center\", mt: 1 }}>\n                    <img src=\"/images/plin.jpeg\" alt=\"Plin QR\" style={{ width: \"250px\", borderRadius: \"8px\" }} />\n                  </Box>\n                  <NotaEnvio />\n                </>\n              )}\n            </Card>\n          </Grid>\n        </Grid>\n      )}\n\n      {/* Snackbar para confirmar copia */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={2000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      >\n        <Alert severity=\"success\" sx={{ width: \"100%\" }}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default Checkout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}