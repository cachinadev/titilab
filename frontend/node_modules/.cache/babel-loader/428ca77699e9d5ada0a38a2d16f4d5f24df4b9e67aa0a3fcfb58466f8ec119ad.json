{"ast":null,"code":"const addToCart = product => {\n  setCart(prevCart => {\n    // Normalizar ID a string para evitar problemas de tipo\n    const productId = String(product._id);\n    const existingIndex = prevCart.findIndex(item => String(item._id) === productId);\n    if (existingIndex !== -1) {\n      // Ya existe → aumentar cantidad\n      const updatedCart = [...prevCart];\n      updatedCart[existingIndex] = {\n        ...updatedCart[existingIndex],\n        quantity: updatedCart[existingIndex].quantity + 1\n      };\n      return updatedCart;\n    } else {\n      // No existe → agregar con cantidad 1\n      return [...prevCart, {\n        ...product,\n        quantity: 1\n      }];\n    }\n  });\n};","map":{"version":3,"names":["addToCart","product","setCart","prevCart","productId","String","_id","existingIndex","findIndex","item","updatedCart","quantity"],"sources":["/Users/reyvipo/Documents/GitHub/titilabs_v2/frontend/src/context/CartContext.js"],"sourcesContent":["const addToCart = (product) => {\n  setCart((prevCart) => {\n    // Normalizar ID a string para evitar problemas de tipo\n    const productId = String(product._id);\n\n    const existingIndex = prevCart.findIndex(\n      (item) => String(item._id) === productId\n    );\n\n    if (existingIndex !== -1) {\n      // Ya existe → aumentar cantidad\n      const updatedCart = [...prevCart];\n      updatedCart[existingIndex] = {\n        ...updatedCart[existingIndex],\n        quantity: updatedCart[existingIndex].quantity + 1\n      };\n      return updatedCart;\n    } else {\n      // No existe → agregar con cantidad 1\n      return [...prevCart, { ...product, quantity: 1 }];\n    }\n  });\n};\n"],"mappings":"AAAA,MAAMA,SAAS,GAAIC,OAAO,IAAK;EAC7BC,OAAO,CAAEC,QAAQ,IAAK;IACpB;IACA,MAAMC,SAAS,GAAGC,MAAM,CAACJ,OAAO,CAACK,GAAG,CAAC;IAErC,MAAMC,aAAa,GAAGJ,QAAQ,CAACK,SAAS,CACrCC,IAAI,IAAKJ,MAAM,CAACI,IAAI,CAACH,GAAG,CAAC,KAAKF,SACjC,CAAC;IAED,IAAIG,aAAa,KAAK,CAAC,CAAC,EAAE;MACxB;MACA,MAAMG,WAAW,GAAG,CAAC,GAAGP,QAAQ,CAAC;MACjCO,WAAW,CAACH,aAAa,CAAC,GAAG;QAC3B,GAAGG,WAAW,CAACH,aAAa,CAAC;QAC7BI,QAAQ,EAAED,WAAW,CAACH,aAAa,CAAC,CAACI,QAAQ,GAAG;MAClD,CAAC;MACD,OAAOD,WAAW;IACpB,CAAC,MAAM;MACL;MACA,OAAO,CAAC,GAAGP,QAAQ,EAAE;QAAE,GAAGF,OAAO;QAAEU,QAAQ,EAAE;MAAE,CAAC,CAAC;IACnD;EACF,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}